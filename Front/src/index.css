/* --- Correcciones específicas modo oscuro según capturas --- */
body.dark-mode .pill,
body.dark-mode .pill[aria-current="page"],
body.dark-mode .pill:focus,
body.dark-mode .pill:active {
  background: #5c6cff !important;
  color: #fff !important;
  border: none !important;
}
body.dark-mode .pill:not([aria-current="page"]) {
  background: #23232a !important;
  color: #fff !important;
  border: 1.5px solid #bdbdbd !important;
}
body.dark-mode .pill:not([aria-current="page"]):hover {
  background: #35354a !important;
  color: #fff !important;
}
body.dark-mode .section-title,
body.dark-mode .form-title,
body.dark-mode .field label,
body.dark-mode .modal-form label,
body.dark-mode .table thead tr:first-child th,
body.dark-mode .table th,
body.dark-mode .table td,
body.dark-mode .filters-row th,
body.dark-mode .bill-header .empresa,
body.dark-mode .actions .link,
body.dark-mode .actions .link.muted,
body.dark-mode .login-brand,
body.dark-mode .login-title,
body.dark-mode .login-form label,
body.dark-mode .resume h3,
body.dark-mode .resume .r-line,
body.dark-mode .resume .r-total,
body.dark-mode .stat .value,
body.dark-mode .stat h3,
body.dark-mode .nav-item,
body.dark-mode .nav-item.active,
body.dark-mode .nav-item:hover {
  color: #fff !important;
}
body.dark-mode .btn,
body.dark-mode .btn-primary,
body.dark-mode .btn.btn-primary,
body.dark-mode .btn.mini {
  background: #5c6cff !important;
  color: #fff !important;
  border: none !important;
  transition: background 0.2s, color 0.2s;
}
body.dark-mode .btn:hover,
body.dark-mode .btn-primary:hover,
body.dark-mode .btn.btn-primary:hover,
body.dark-mode .btn.mini:hover {
  background: #4654f0 !important;
  color: #fff !important;
}
/* Restaurar estilos originales de calendario */
body.dark-mode .date-input,
body.dark-mode input[type="date"],
body.dark-mode input[type="datetime-local"] {
  background: #23232a !important;
  color: #fff !important;
  border: 1px solid #444 !important;
}

body.dark-mode .date-input::-webkit-calendar-picker-indicator,
body.dark-mode input[type="date"]::-webkit-calendar-picker-indicator,
body.dark-mode input[type="datetime-local"]::-webkit-calendar-picker-indicator {
  filter: invert(1);
}

/* Estilos para los botones de filtro de días en reportes */
body.dark-mode .report-filter-btn,
body.dark-mode .report-day-filter {
  background: #5c6cff !important;
  color: #fff !important;
  border: none !important;
  border-radius: 999px !important;
  padding: 0.5rem 1rem !important;
  cursor: pointer !important;
}

body.dark-mode .report-filter-btn:hover,
body.dark-mode .report-day-filter:hover {
  background: #4654f0 !important;
}

body.dark-mode .report-filter-btn.active,
body.dark-mode .report-day-filter.active {
  background: #4654f0 !important;
  font-weight: 600 !important;
}
/* --- Corrección exhaustiva de contraste modo oscuro --- */
body.dark-mode {
  --bg: #18181b;
  --card: #23232a;
  --txt: #fff;
  --muted: #bdbdbd;
}
body.dark-mode, body.dark-mode .content, body.dark-mode .main {
  background: var(--bg) !important;
  color: var(--txt) !important;
}
body.dark-mode .side, body.dark-mode .sidebar, body.dark-mode .topbar, body.dark-mode .card, body.dark-mode .stat, body.dark-mode .login-card, body.dark-mode .table-card, body.dark-mode .modal, body.dark-mode .form-card {
  background: var(--card) !important;
  color: #fff !important;
  border-color: #23232a !important;
}
body.dark-mode .brand,
body.dark-mode .nav-item,
body.dark-mode .nav-item.active,
body.dark-mode .nav-item:hover,
body.dark-mode .pill,
body.dark-mode .stat .value,
body.dark-mode .stat h3,
body.dark-mode .section-title,
body.dark-mode .form-title,
body.dark-mode .field label,
body.dark-mode .modal-form label,
body.dark-mode .modal-form input,
body.dark-mode .modal-form select,
body.dark-mode .table thead tr:first-child th,
body.dark-mode .table th,
body.dark-mode .table td,
body.dark-mode .filters-row th,
body.dark-mode .bill-header .empresa,
body.dark-mode .actions .link,
body.dark-mode .actions .link.muted,
body.dark-mode .login-brand,
body.dark-mode .login-title,
body.dark-mode .login-form label,
body.dark-mode .resume h3,
body.dark-mode .resume .r-line,
body.dark-mode .resume .r-total {
  color: #fff !important;
}
body.dark-mode .field input,
body.dark-mode .modal-form input,
body.dark-mode .modal-form select,
body.dark-mode .search,
body.dark-mode .date-input,
body.dark-mode .table input.mini {
  background: #23232a !important;
  color: #fff !important;
  border: 1px solid #444 !important;
}
body.dark-mode .field input::placeholder,
body.dark-mode .modal-form input::placeholder,
body.dark-mode .search::placeholder,
body.dark-mode .date-input::placeholder {
  color: #bdbdbd !important;
}
body.dark-mode .form-footer {
  background: var(--primary) !important;
  color: #18181b !important;
  box-shadow: 0 8px 20px rgba(0,0,0,.08) inset;
}
body.dark-mode .form-footer .btn,
body.dark-mode .form-footer .btn.btn-primary {
  background: #fff !important;
  color: #18181b !important;
}
body.dark-mode .appt {
  background: #eef0ff !important;
  color: #18181b !important;
}
body.dark-mode .appt-time,
body.dark-mode .appt-patient,
body.dark-mode .appt-meta {
  color: #18181b !important;
}
body.dark-mode .btn,
body.dark-mode .btn-primary,
body.dark-mode .btn.btn-primary,
body.dark-mode .btn.mini,
body.dark-mode .btn.ghost,
body.dark-mode .btn.outline {
  background: var(--primary) !important;
  color: #fff !important;
  border: none !important;
}
body.dark-mode .btn.ghost {
  background: #23232a !important;
  color: #fff !important;
  border: 1px solid #444 !important;
}
body.dark-mode .btn.outline {
  background: transparent !important;
  color: var(--primary) !important;
  border: 2px solid var(--primary) !important;
}
body.dark-mode .btn.mini {
  background: #5c6cff !important;
  color: #fff !important;
}
body.dark-mode .btn.mini:hover {
  background: #4654f0 !important;
}
body.dark-mode .table thead tr:first-child th,
body.dark-mode .table th,
body.dark-mode .table td {
  background: #23232a !important;
  color: #fff !important;
  border-color: #444 !important;
}
body.dark-mode .table tbody tr:hover {
  background: #18181b !important;
}
body.dark-mode .modal-form input,
body.dark-mode .modal-form select {
  background: #23232a !important;
  color: #fff !important;
  border: 1px solid #444 !important;
}
body.dark-mode .modal-form input:focus,
body.dark-mode .modal-form select:focus {
  border-color: var(--primary) !important;
  box-shadow: 0 0 0 3px rgba(92,108,255,.15) !important;
}
body.dark-mode .modal-actions .btn.ghost {
  background: #23232a !important;
  color: #fff !important;
  border: 1px solid #444 !important;
}
body.dark-mode .modal-actions .btn.btn-primary {
  background: var(--primary) !important;
  color: #fff !important;
}
body.dark-mode .muted,
body.dark-mode .x {
  color: #fff !important;
}
/* --- Mejoras de contraste modo oscuro global --- */
body.dark-mode .section-title,
body.dark-mode .form-title,
body.dark-mode .field label,
body.dark-mode .brand,
body.dark-mode .nav-item,
body.dark-mode .pill,
body.dark-mode .stat .value,
body.dark-mode .stat h3,
body.dark-mode .topbar,
body.dark-mode .actions .link,
body.dark-mode .modal-form label,
body.dark-mode .modal-form input,
body.dark-mode .modal-form select,
body.dark-mode .table thead tr:first-child th,
body.dark-mode .table th,
body.dark-mode .table td,
body.dark-mode .filters-row th,
body.dark-mode .bill-header .empresa {
  color: #fff !important;
}
body.dark-mode .field input,
body.dark-mode .modal-form input,
body.dark-mode .modal-form select,
body.dark-mode .search,
body.dark-mode .date-input {
  background: #23232a !important;
  color: #fff !important;
  border: 1px solid #444 !important;
}
body.dark-mode .field input::placeholder,
body.dark-mode .modal-form input::placeholder,
body.dark-mode .search::placeholder,
body.dark-mode .date-input::placeholder {
  color: #bdbdbd !important;
}
body.dark-mode .form-footer {
  background: var(--primary) !important;
  color: #18181b !important;
  box-shadow: 0 8px 20px rgba(0,0,0,.08) inset;
}
body.dark-mode .form-footer .btn,
body.dark-mode .form-footer .btn.btn-primary {
  background: #fff !important;
  color: #18181b !important;
}
body.dark-mode .appt {
  background: #eef0ff !important;
  color: #18181b !important;
}
body.dark-mode .appt-time,
body.dark-mode .appt-patient,
body.dark-mode .appt-meta {
  color: #18181b !important;
}
/* Modo oscuro global */
body.dark-mode {
  --bg: #18181b;
  --card: #23232a;
  --txt: #fff;
  --muted: #bdbdbd;
}
body.dark-mode, body.dark-mode .content, body.dark-mode .main {
  background: var(--bg) !important;
  color: var(--txt) !important;
}
body.dark-mode .side, body.dark-mode .sidebar, body.dark-mode .topbar, body.dark-mode .card, body.dark-mode .stat, body.dark-mode .login-card {
  background: var(--card) !important;
  color: var(--txt) !important;
  border-color: #23232a !important;
}
body.dark-mode .nav-item, body.dark-mode .brand, body.dark-mode .login-brand, body.dark-mode .login-title, body.dark-mode .login-form label, body.dark-mode .stat .value, body.dark-mode .stat h3, body.dark-mode .alerts, body.dark-mode .btn, body.dark-mode .btn-primary {
  color: #fff !important;
}
body.dark-mode .nav-item:hover, body.dark-mode .nav-item.active {
  background: #23232a !important;
  color: #fff !important;
}
body.dark-mode .search, body.dark-mode .icon-btn, body.dark-mode .btn, body.dark-mode .btn-primary {
  background: #23232a !important;
  color: #fff !important;
  border-color: #444 !important;
}
body.dark-mode .search:focus {
  background: #18181b !important;
}
body.dark-mode .btn-primary, body.dark-mode .btn.btn-primary {
  background: var(--primary) !important;
  color: #fff !important;
}
body.dark-mode .btn-primary:hover, body.dark-mode .btn.btn-primary:hover {
  background: var(--primary-700) !important;
}
body.dark-mode .login-error {
  background: #3a1a1a !important;
  color: #ffbdbd !important;
  border-color: #a52828 !important;
}
/* Settings icon and menu */
.login-settings {
  position: absolute;
  top: 24px;
  right: 32px;
  z-index: 10;
}
.settings-btn {
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  color: #888;
  transition: color 0.2s;
}
body.dark-mode .settings-menu {
  background: #fff !important;
  color: #18181b !important;
  border: 1px solid #eee !important;
}
body.dark-mode .settings-menu div {
  color: #18181b !important;
}
body.dark-mode .settings-menu div:hover {
  background: #f0f2ff !important;
  color: var(--primary) !important;
}
.settings-btn:hover {
  color: var(--primary);
}
.settings-menu {
  position: absolute;
  top: 36px;
  right: 0;
  background: #fff;
  border: 1px solid #eee;
  border-radius: 10px;
  box-shadow: 0 4px 16px rgba(0,0,0,.10);
  min-width: 120px;
  font-size: 1rem;
  overflow: hidden;
}
.settings-menu div {
  padding: 10px 18px;
  cursor: pointer;
  transition: background 0.2s;
}
.settings-menu div:hover {
  background: #f0f2ff;
}

/* Dark mode for login */
/* Do not override the background image in dark mode - keep the photo unchanged.
   Only adjust background-color if needed, and remove the page-wide overlay so the
   image doesn't get darkened when toggling dark mode. */
body.dark-mode .login-wrap {
  background-color: var(--bg);
}
body.dark-mode .login-wrap::before {
  background: rgba(0,0,0,0); /* transparent overlay in dark mode */
}
body.dark-mode .login-card {
  /* Keep login-card transparent in dark mode so the photographic background
     remains the visible layer and no larger back-frame appears. */
  background: transparent !important;
  border-color: transparent !important;
  color: inherit !important;
}
body.dark-mode .login-brand,
body.dark-mode .login-title,
body.dark-mode .login-form label {
  color: #fff;
}
body.dark-mode .login-form input {
  background: #18181b;
  color: #fff;
  border: 1px solid #444;
}
body.dark-mode .login-form input:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(92,108,255,.15);
}
body.dark-mode .btn-primary {
  background: var(--primary);
  color: #fff;
}
:root{
  --bg: #f6f7fb;
  --card: #eef0ff;
  --card-shadow: 0 6px 18px rgba(0,0,0,.08);
  --txt: #1a1a1a;
  --muted: #656d76;
  --primary: #5c6cff;
  --primary-700: #4654f0;
  --radius: 16px;
}

*{ box-sizing: border-box; }
html, body, #root { height: 100%; }
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
  color: var(--txt);
  background: var(--bg);
}

/* Shell */
.app-shell{
  display:grid;
  grid-template-columns: 240px 1fr;
  min-height: 100vh;
}
.side{
  background: #fff;
  border-right: 1px solid #eee;
}
.content{ display:flex; flex-direction:column; }

/* Sidebar */
.sidebar{ padding: .75rem; }
.brand{
  display:flex; align-items:center; gap:.5rem;
  font-weight: 800; padding:.4rem .6rem; font-size:1.05rem;
}
.brand svg{ font-size: 1.2rem; }
.nav{ margin-top:.25rem; display:flex; flex-direction:column; gap:.25rem; }
.nav-item{
  display:flex; align-items:center; gap:.6rem;
  padding:.55rem .65rem; border-radius: 10px; color: var(--txt);
  text-decoration:none; cursor:pointer; font-size:.95rem;
}
.nav-item svg{ opacity:.9; }
.nav-item:hover{ background:#f0f2ff; }
.nav-item.active{ background:#e7e9ff; font-weight:600; }

/* Topbar */
.topbar{
  position: sticky; top:0; z-index: 5;
  display:flex; align-items:center; gap:.6rem;
  padding:.6rem .8rem; background:#fff; border-bottom:1px solid #eee;
}
.spacer{ flex:1 1 auto; }
.search{
  width: 250px; max-width: 60vw;
  height: 38px; border-radius: 10px;
  border:1px solid #e6e6ea; padding: 0 .8rem; outline: none;
  background:#fafafa;
}
.search:focus{ border-color:#c9cdfc; background:#fff; }
.icon-btn{
  display:grid; place-items:center;
  width:38px; height:38px; border-radius: 10px; border:1px solid #e6e6ea;
  background:#fff; cursor:pointer;
}
.icon-btn:hover{ background:#f6f7ff; }

/* Main */
.main{ padding: 1.25rem; }

/* Cards / panels */
.card{
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--card-shadow);
  padding: 1rem;
}
.stat h3{ margin:0 0 .25rem 0; font-size:1.1rem; font-weight:800; }
.stat .value{ margin:0; color:#1b1e2c; font-size:1.15rem; font-weight:800; }

/* Grids */
.stats-grid{
  display:grid; gap:1rem; grid-template-columns: repeat(4, minmax(0,1fr));
}
.panels-grid{
  display:grid; gap:1rem; grid-template-columns: 2fr 1fr;
  margin-top:1rem;
}

/* Bars */
.bars{ margin-top:.75rem; display:flex; flex-direction:column; gap:.8rem; padding-left: 16px; position:relative; }
.bars::before{
  content:""; position:absolute; left:0; top:0; bottom:0; width:3px; background:#1a1a1a;
  border-radius:3px;
}
.row{
  background:#d7d8e6; height:24px; border-radius:12px; overflow:hidden;
}
.bar{ display:block; height:100%; background: var(--primary); }

/* Alerts */
.alerts{ margin:.5rem 0 0 1rem; padding:0; }

/* Actions */
.actions{ margin-top:1rem; display:flex; gap:.75rem; }
.btn{
  height:40px; padding: 0 16px; border-radius: 10px; border:0; cursor:pointer;
  font-weight:700; box-shadow: var(--card-shadow);
}
.btn-primary{ background: var(--primary); color:white; }
.btn-primary:hover{ background: var(--primary-700); }
.btn.ghost{ filter: brightness(.97); }

/* Responsive */
@media (max-width: 1100px){
  .stats-grid{ grid-template-columns: repeat(2, 1fr); }
  .panels-grid{ grid-template-columns: 1fr; }
}
@media (max-width: 800px){
  .app-shell{ grid-template-columns: 1fr; }
  .side{ display:none; }
  .search{ max-width: 50vw; width: 280px; }
}
/* ====== Pacientes (form) ====== */
.card.form-card{
  background:#eef0ff;
  border-radius:16px;
  box-shadow: 0 6px 18px rgba(0,0,0,.08);
  padding: 1.25rem;
}

.form-title{ margin:0 0 .75rem 0; font-size:1.6rem; }

.section-title{
  margin: 1rem 0 .5rem 0;
  font-size:1.05rem;
  font-weight:800;
  color:#30313a;
}

/* Grid del formulario */
.form-body{ display:flex; flex-direction:column; gap:.25rem; }
.form-grid{
  display: grid;
  grid-template-columns: repeat(2, 1fr); /* two columns side-by-side */
  gap: 1rem 1.5rem;
  align-items: start;
  justify-items: stretch;
  position: relative;
  padding: 1rem;
}

/* Inputs bonitos + full width */
.field{
  display:flex;
  flex-direction:column;
}
.field input{
  width:100%;
  height:42px;
  border-radius:10px;
  border:1px solid #d9dbe8;
  padding:0 .8rem;
  outline:none;
  background:white;
  font-size:.95rem;
}
.field input:focus{
  border-color:#b8bdfa;
  box-shadow: 0 0 0 3px rgba(92,108,255,.15);
}

/* Footer de acciones fijo visualmente */
.form-footer{
body.login-bg {
  background-image: url('/LOGIN MORADO.jpg');
  background-position: center center;
  background-size: cover;
  background-repeat: no-repeat;
  background-attachment: fixed;
}

/* When the login background is active, make the main app shells transparent
   so the photo fills the entire viewport (including side/top panels). */
body.login-bg .app-shell,
body.login-bg .side,
body.login-bg .sidebar,
body.login-bg .topbar,
body.login-bg .content,
body.login-bg .card,
body.login-bg .table-card,
body.login-bg .modal,
body.login-bg .modal-backdrop {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* Ensure the login form remains the same size in dark mode and the
   photographic background is not replaced by dark background rules. */
body.login-bg .login-card { background: transparent !important; }
body.login-bg .login-card .form-container,
body.dark-mode.login-bg .login-card .form-container {
  width: 340px !important;
  min-height: 320px !important;
  background-color: rgba(17,24,39,0.95) !important;
  box-shadow: 0 12px 40px rgba(0,0,0,.24) !important;
}

/* When dark-mode and login-bg are both present, keep the photographic
   background visible (override broader dark-mode body rules). */
body.dark-mode.login-bg,
body.login-bg.dark-mode {
  background-image: url('/LOGIN MORADO.jpg') !important;
  background-position: center center !important;
  background-size: cover !important;
  background-repeat: no-repeat !important;
  background-attachment: fixed !important;
  background-color: transparent !important;
}
  position: sticky; bottom: -1rem;
  display:flex; gap:.75rem; justify-content:space-between; align-items:center;
  background:#e9ebff; padding:.8rem; border-radius:12px; margin-top:1rem;
  box-shadow: 0 8px 20px rgba(0,0,0,.08) inset;
}
.form-footer .btn{ min-width:130px; }

/* Botones */
.btn{
  height:40px; padding:0 16px; border-radius:10px; border:0; cursor:pointer;
  font-weight:700; box-shadow: 0 6px 16px rgba(0,0,0,.08);
}
.btn.btn-primary{ background:#5c6cff; color:#fff; }
.btn.btn-primary:hover{ background:#4654f0; }
.btn.ghost{ background:#fff; border:1px solid #dadcf0; }
.btn.outline{ background:transparent; color:#5c6cff; border:2px solid #5c6cff; }

/* ====== Topbar tabs (Inicio / Pacientes / Reportes) ====== */
.tabs{ display:flex; gap:.4rem; }
.pill{
  display:inline-flex; align-items:center; height:32px; padding:0 12px;
  border-radius:999px; background:#eef0ff; color:#333; text-decoration:none; font-weight:700;
}
.pill[aria-current="page"]{ background:#5c6cff; color:#fff; }

/* Responsive */
@media (max-width: 900px){
  .form-grid{ grid-template-columns: 1fr; }
  .field.col-2{ grid-column: auto; }
}

/* utility: let an element span both columns when needed */
.field.col-2{ grid-column: span 2; }
/* ====== Agenda semanal ====== */
.agenda-wrap { display:flex; flex-direction:column; gap: .75rem; }
.agenda-header { display:flex; align-items:center; gap: .75rem; }
.date-input{
  margin-left:auto; height:36px; border-radius:10px; border:1px solid #e0e2ef;
  background:white; padding:0 .6rem; outline:none;
}
.date-input:focus{ border-color:#b8bdfa; box-shadow:0 0 0 3px rgba(92,108,255,.15); }

.agenda-grid{
  display:grid; gap:1rem;
  grid-template-columns: repeat(7, 1fr) 280px; /* 7 días + panel lateral */
}

.day-col{
  background:#fff; border:1px solid #eee; border-radius:12px;
  overflow:hidden;
}
.day-title{
  padding:.7rem .8rem; font-weight:800; background:#f8f8ff; border-bottom:1px solid #eee;
}
.day-body{ padding:.6rem; display:flex; flex-direction:column; gap:.6rem; min-height: 160px; }

/* Modo oscuro para los días de la semana */
body.dark-mode .day-col {
  background: #23232a;
  border: 1px solid #5c6cff;
}

body.dark-mode .day-title {
  background: #5c6cff;
  color: #fff;
  border-bottom: none;
  font-weight: 600;
}

.appt{
  background:#eef0ff; border-radius:10px; padding:.55rem .6rem;
  box-shadow: 0 6px 14px rgba(0,0,0,.08);
}
.appt-time{ font-weight:800; font-size:.92rem; }
.appt-patient{ margin-top:.2rem; }
.appt-meta{ margin-top:.1rem; font-size:.85rem; color:#636b75; }

.side-panel{
  background:#fff; border:1px solid #eee; border-radius:12px; padding:.9rem;
}
.side-panel h3{ margin:.25rem 0 .75rem; }
.filter-block{ margin-bottom:.9rem; }
.filter-title{ font-weight:800; margin-bottom:.35rem; }
.chk{ display:flex; align-items:center; gap:.45rem; margin:.25rem 0; font-size:.95rem; }

/* FAB */
.fab{
  position: fixed; right: 24px; bottom: 24px;
  height: 48px; border-radius: 12px; padding: 0 16px; border:0; cursor:pointer;
  background:#5c6cff; color:white; font-weight:800; box-shadow: 0 10px 22px rgba(0,0,0,.18);
}
.fab:hover{ background:#4654f0; }

/* Modal */
.modal-backdrop{
  position: fixed; inset:0; background: rgba(0,0,0,.25);
  display:grid; place-items:center; z-index: 50;
}
.modal{
  width: min(560px, 92vw); background:white; border-radius:16px; padding:1rem 1rem 1.1rem;
  box-shadow: 0 20px 60px rgba(0,0,0,.25);
}
.modal h3{ margin:.25rem 0 .75rem; }
.modal-form{
  display:grid; gap:.7rem; grid-template-columns: 1fr 1fr;
}
.modal-form label{ display:flex; flex-direction:column; gap:.35rem; font-weight:700; font-size:.92rem; color:#4a4f58; }
.modal-form input, .modal-form select{
  height:40px; border-radius:10px; border:1px solid #d9dbe8; padding:0 .6rem; outline:none;
}
.modal-actions{
  grid-column: 1 / -1; display:flex; justify-content:flex-end; gap:.6rem; margin-top:.2rem;
}

/* Responsive */
@media (max-width: 1200px){
  .agenda-grid{ grid-template-columns: repeat(4, 1fr) 280px; }
}
@media (max-width: 900px){
  .agenda-grid{ grid-template-columns: 1fr; }
  .side-panel{ order: -1; }
}

/* ====== Inventario ====== */
.inv-wrap { display:flex; flex-direction:column; gap:.6rem; }
.inv-toolbar{
  display:flex; align-items:center; gap:.8rem;
}
.inv-toolbar .filters{ display:flex; align-items:center; gap:.8rem; flex:1; }
.fcol{ display:flex; align-items:center; gap:.45rem; }
.fcol select{
  height:36px; border:1px solid #e0e2ef; border-radius:10px; padding:0 .6rem; background:white;
}
.search.big{ width:320px; height:38px; border-radius:12px; border:1px solid #e0e2ef; padding:0 .8rem; background:#fff; }

.table-card{
  margin-top:.5rem; background:#fff; border:1px solid #eee; border-radius:12px; overflow:hidden;
}
.table{ width:100%; border-collapse:separate; border-spacing:0; }
.table thead tr:first-child th{ background:#fafbff; font-size:.82rem; color:#5a5f6b; letter-spacing:.02em; }
.table th, .table td{ text-align:left; padding:.8rem .9rem; border-bottom:1px solid #eee; }
.table tr:last-child td{ border-bottom:none; }
.table tbody tr:hover{ background:#fafaff; }

.table input.mini{
  width:100%; height:34px; border:1px solid #e0e2ef; border-radius:8px; padding:0 .6rem; background:#fff;
  font-size:.9rem;
}
.filters-row th{ background:#fff; }

.actions .link{
  background:none; border:0; color:#5c6cff; cursor:pointer; font-weight:700;
}
.actions .link.muted{ color:#6b7280; }

/* Reusa modal de Citas */
.modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.25); display:grid; place-items:center; z-index:50; }
.modal{ width:min(540px,92vw); background:#fff; border-radius:16px; padding:1rem; box-shadow:0 20px 60px rgba(0,0,0,.25); }
.modal-form{ display:grid; gap:.7rem; grid-template-columns: 1fr 1fr; }
.modal-form label{ display:flex; flex-direction:column; gap:.35rem; font-weight:700; color:#4a4f58; font-size:.92rem;}
.modal-form input{ height:40px; border-radius:10px; border:1px solid #d9dbe8; padding:0 .6rem; }
.modal-actions{ grid-column:1/-1; display:flex; justify-content:flex-end; gap:.6rem; }

/* ===== Facturación ===== */
.bill-wrap{ display:flex; flex-direction:column; gap:.8rem; }
.bill-header{ display:flex; align-items:flex-start; gap:.8rem; }
.bill-header .empresa{ margin-left:auto; text-align:right; color:#6b7280; }
.bill-row.card{ background:#fff; }
.card{ background:#fff; border:1px solid #eee; border-radius:16px; padding:1rem; box-shadow:0 6px 18px rgba(0,0,0,.06); }
.grid-2{ display:grid; gap:.75rem; grid-template-columns:1fr 1fr 1fr; }
.grid-2 label{ display:flex; flex-direction:column; gap:.35rem; font-weight:700; color:#4a4f58; }

/* Asegurando que todos los tipos de labels sean blancos en modo oscuro */
body.dark-mode .grid-2 label,
body.dark-mode .form-group label,
body.dark-mode .input-group label,
body.dark-mode .control-label,
body.dark-mode .field-label,
body.dark-mode .form-label {
  color: #fff !important;
}

label input{
  height:40px; border-radius:10px; border:1px solid #d9dbe8; padding:0 .6rem; outline:none; background:white;
}
label input:focus{ border-color:#b8bdfa; box-shadow:0 0 0 3px rgba(92,108,255,.15); }

.bill-grid{ display:grid; gap:.8rem; grid-template-columns: 1fr 320px; }
.left .card h3{ margin:0 0 .25rem 0; }
.search.big{ width:100%; height:40px; border-radius:12px; border:1px solid #e0e2ef; padding:0 .8rem; background:#fff; }
.catalogo{ margin-top:.5rem; display:flex; flex-direction:column; gap:.5rem; }
.cat-row{ display:grid; grid-template-columns: 1fr auto auto; align-items:center; gap:.5rem; padding:.35rem .2rem; border-bottom:1px dashed #eee; }
.cat-name{ font-weight:600; }
.cat-price{ font-weight:700; }
.btn.mini{ height:32px; border-radius:8px; padding:0 10px; border:0; background:#eef0ff; font-weight:700; cursor:pointer; }
.btn.mini:hover{ background:#e0e3ff; }

.cart-row{ display:grid; grid-template-columns: 1fr auto auto; align-items:center; gap:.6rem; padding:.35rem 0; border-bottom:1px dashed #eee; }
.c-qty{ display:flex; align-items:center; gap:.35rem; }
.c-qty input{ width:72px; height:34px; border-radius:8px; border:1px solid #e0e2ef; padding:0 .5rem; }
.c-sub{ font-weight:800; }
.x{ color:#6b7280; font-size:.9rem; }

.resume h3{ margin-top:0; }
.resume .r-line, .resume .r-total{ display:flex; justify-content:space-between; align-items:center; padding:.25rem 0; }
.resume .r-total{ font-size:1.15rem; margin-top:.25rem; }
.btn.wide{ width:100%; height:44px; margin-top:.75rem; }

/* Trigger input + botón */
.picker-trigger{ display:flex; gap:.5rem; align-items:center; }
.picker-trigger .search.big{ flex:1; }

/* Modal de productos (reusa .modal/.modal-backdrop si ya existen) */
.picker-search input{
  width:100%; height:40px; border-radius:10px; border:1px solid #e0e2ef; padding:0 .6rem;
}
.picker-list{ margin-top:.6rem; max-height:50vh; overflow:auto; display:flex; flex-direction:column; gap:.4rem; }
.picker-row{
  display:grid; grid-template-columns: auto 1fr auto 90px; align-items:center; gap:.6rem;
  padding:.45rem .3rem; border-bottom:1px dashed #eee;
}
.picker-row.on{ background:#f6f7ff; border-radius:8px; }
.pk-name{ font-size:.95rem; }
.pk-price{ font-weight:800; }
.pk-qty{ width:80px; height:34px; border:1px solid #e0e2ef; border-radius:8px; padding:0 .5rem; }

/* ===== Login ===== */
.login-wrap{
  min-height: 100vh;
  display: grid;
  align-items: center; /* vertical center */
  justify-items: start; /* place content to the left so the dog image is visible on the right */
  /* usar la imagen que pegaste en public con el nombre exacto 'LOGIN MORADO.jpg' */
  /* Left-side soft color band so the blank area matches the image tones and the
    animals remain visually steady on the right. The gradient is above the image
    layer so the left side shows a soft blur-like color matching the photo. */
  /* Use the photographic image as the only background and make it cover the
    entire viewport so there are no blank bands. */
  /* make the login wrapper cover the full viewport so the image fills all the
     green-lined areas in your reference screenshots */
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  z-index: 0;
  background-image: url('/LOGIN MORADO.jpg');
  background-position: center center;
  background-size: cover;
  background-repeat: no-repeat;
  background-attachment: fixed;
  padding: 1rem;
}

/* overlay to keep card readable over image */
.login-wrap::before{
  /* keep the overlay transparent so the photo remains unchanged; if you need
     additional contrast for the form, the .form-container provides its own
     background color */
  content: "";
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,0); /* transparent */
  pointer-events: none;
}
.login-card{
  width: min(420px, 92vw);
  /* remove the back frame so only the inner (front) form remains visible */
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  border-radius: 20px;
  padding: 0.25rem 0.25rem 0;
  margin-left: clamp(36px, 6vw, 100px); /* shift card to the left side */
  z-index: 2; /* bring the card above the fixed background */
}

/* Scoped form styles for the redesigned login */
.login-card .form-container {
  width: 340px;
  border-radius: 0.75rem;
  /* Keep the form container visually separate but fixed so dark mode won't invert it */
  background-color: rgba(17, 24, 39, 0.95);
  padding: 2rem;
  color: rgba(243, 244, 246, 1);
  box-shadow: 0 12px 40px rgba(0,0,0,.24);
  min-height: 320px; /* keep height consistent between modes */
  z-index: 3;
}

/* Prevent dark-mode rules elsewhere from changing the login form size */
body.dark-mode .login-card .form-container {
  width: 340px !important;
  min-height: 320px !important;
  background-color: rgba(17, 24, 39, 0.95) !important;
  box-shadow: 0 12px 40px rgba(0,0,0,.24) !important;
}
.login-card .form-container .title {
  text-align: center;
  font-size: 1.5rem;
  line-height: 2rem;
  font-weight: 700;
}
.login-card .form-container .form { margin-top: 1.5rem; }
.login-card .form-container .input-group { margin-top: 0.25rem; font-size: 0.875rem; line-height: 1.25rem; }
.login-card .form-container .input-group label { display: block; color: rgba(156, 163, 175, 1); margin-bottom: 4px; }
.login-card .form-container .input-group input { width: 100%; height: 44px; border-radius: 0.5rem; border: 1px solid #dbe8ff; outline: 0; background-color: #eef4ff; padding: 0 1rem; color: #111827; font-size: 0.95rem; }
.login-card .form-container .input-group input:focus { border-color: rgba(167, 139, 250, 1); box-shadow: 0 6px 18px rgba(92,108,255,.12); }
/* placeholder color for the inputs */
.login-card .form-container .input-group input::placeholder { color: #94a3b8; }

.login-card .form-container .sign { display: block; width: 100%; background-color: rgba(167, 139, 250, 1); padding: 0.75rem; text-align: center; color: rgba(17, 24, 39, 1); border: none; border-radius: 0.375rem; font-weight: 600; margin-top: 18px; }
.login-card .form-container .forgot { display: flex; justify-content: flex-end; font-size: 0.75rem; line-height: 1rem; color: rgba(156, 163, 175,1); margin: 8px 0 14px 0; }
.login-card .form-container .forgot a,.login-card .form-container .signup a { color: rgba(243, 244, 246, 1); text-decoration: none; font-size: 14px; }
.login-card .form-container .forgot a:hover, .login-card .form-container .signup a:hover { text-decoration: underline rgba(167, 139, 250, 1); }
.login-card .form-container .sign { display: block; width: 100%; background-color: rgba(167, 139, 250, 1); padding: 0.75rem; text-align: center; color: rgba(17, 24, 39, 1); border: none; border-radius: 0.375rem; font-weight: 600; }
.login-card .form-container .social-message { display: flex; align-items: center; padding-top: 1rem; }
.login-card .form-container .line { height: 1px; flex: 1 1 0%; background-color: rgba(55, 65, 81, 1); }
.login-card .form-container .social-message .message { padding-left: 0.75rem; padding-right: 0.75rem; font-size: 0.875rem; line-height: 1.25rem; color: rgba(156, 163, 175, 1); }
.login-card .form-container .social-icons { display: flex; justify-content: center; }
.login-card .form-container .social-icons .icon { border-radius: 0.125rem; padding: 0.75rem; border: none; background-color: transparent; margin-left: 8px; }
.login-card .form-container .social-icons .icon svg { height: 1.25rem; width: 1.25rem; fill: #fff; }
.login-card .form-container .signup { text-align: center; font-size: 0.75rem; line-height: 1rem; color: rgba(156, 163, 175, 1); }
.login-brand{
  font-weight:900; letter-spacing:.3px; color:#1a1a1a; text-align: center; font-size: xx-large;
}
.login-title{ margin:.25rem 0 1rem; }
.login-form{ display:flex; flex-direction:column; gap:.75rem; }
.login-form label{ font-weight:700; color:#4a4f58; display:flex; flex-direction:column; gap:.35rem; }
.login-form input{
  height:44px; border-radius:12px; border:1px solid #d9dbe8; padding:0 .8rem; outline:none; background:white;
}
.login-form input:focus{ border-color:#b8bdfa; box-shadow:0 0 0 3px rgba(92,108,255,.15); }
.login-error{
  background:#ffe6e6; color:#a52828; border:1px solid #ffc9c9;
  padding:.6rem .75rem; border-radius:10px; font-size:.92rem;
}
.btn.wide{ width:100%; height:44px; }
.login-hint{ margin-top:.5rem; color:#6b7280; font-size:.9rem; text-align:center; }

/* Menú de usuario */
.user-menu{
  position: absolute;
  right: 12px; top: 56px;
  background:#fff; border:1px solid #eee; border-radius:12px;
  box-shadow: 0 16px 40px rgba(0,0,0,.12);
  padding:.35rem; width: 220px;
  z-index: 30;
}
.user-item{
  width:100%; display:flex; align-items:center; gap:.5rem;
  background:transparent; border:0; padding:.55rem .6rem; border-radius:10px;
  cursor:pointer; font-weight:700;
}
.user-item:hover{ background:#f3f4ff; }
.user-item svg{ opacity:.9; }
.user-item.danger{ color:#b42318; }
.user-item.danger:hover{ background:#ffecec; }

/* Modal ya usado en otras pantallas; si no lo tienes: */
.modal-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.25); display:grid; place-items:center; z-index:50; }
.modal{ width:min(480px, 92vw); background:#fff; border-radius:16px; padding:1rem; box-shadow:0 20px 60px rgba(0,0,0,.25); }
.modal-form{ display:grid; gap:.7rem; grid-template-columns: 1fr; }
.modal-form label{ display:flex; flex-direction:column; gap:.35rem; font-weight:700; color:#4a4f58; }
.modal-form input{ height:40px; border-radius:10px; border:1px solid #d9dbe8; padding:0 .6rem; }
.modal-actions{ display:flex; justify-content:flex-end; gap:.6rem; margin-top:.25rem; }

/* Veterinarios */
.form-grid-3{
  display:grid; gap:.8rem;
  grid-template-columns: repeat(3, 1fr);
}
.form-grid-3 label{
  display:flex; flex-direction:column; gap:.35rem; font-weight:700; color:#4a4f58;
}
.form-grid-3 input, .form-grid-3 select{
  height:40px; border-radius:10px; border:1px solid #d9dbe8; padding:0 .6rem; background:white;
}
.actions.end{ grid-column: 1 / -1; display:flex; justify-content:flex-end; gap:.6rem; }

.table .stack{ display:flex; flex-direction:column; gap:.15rem; }
.table input.mini, .table select.mini{
  width:100%; height:34px; border:1px solid #e0e2ef; border-radius:8px; padding:0 .5rem;
}
.actions .link.danger{ color:#b42318; }
.actions .link.danger:hover{ text-decoration: underline; }

/* Fila de 4 columnas en el formulario de Empleados */
.form-row-4{
  display:grid;
  gap:.8rem;
  grid-template-columns: 1fr 1fr 1fr 160px; /* las 3 primeras iguales, la última más angosta */
}
.form-row-4 label{
  display:flex; flex-direction:column; gap:.35rem; font-weight:700; color:#4a4f58;
}
.form-row-4 input, .form-row-4 select{
  height:40px; border-radius:10px; border:1px solid #d9dbe8; padding:0 .6rem; background:white;
}
/* checkbox alineado verticalmente al centro */
.form-row-4 .chk{
  flex-direction:row; align-items:center; gap:.5rem; padding-top: 28px; /* alinea con inputs */
}

/* Trigger del buscador-Empleado (input + botón) */
.picker-trigger{ display:flex; gap:.5rem; align-items:center; }
.picker-trigger input{
  height:40px; border-radius:10px; border:1px solid #d9dbe8; padding:0 .6rem; flex:1;
}

/* Reuso del modal del proyecto */
.picker-search input{
  width:100%; height:40px; border-radius:10px; border:1px solid #e0e2ef; padding:0 .6rem;
}
.picker-list{ margin-top:.6rem; display:flex; flex-direction:column; gap:.35rem; max-height:50vh; overflow:auto; }
.picker-row{ display:grid; align-items:center; gap:.6rem; padding:.45rem .3rem; border-bottom:1px dashed #eee; }
.pk-name{ font-size:.95rem; }
.modal-form{ display:grid; gap:.7rem; }
.modal-form label{ display:flex; flex-direction:column; gap:.35rem; font-weight:700; color:#4a4f58; }
.modal-form input{ height:40px; border-radius:10px; border:1px solid #d9dbe8; padding:0 .6rem; }
.modal-form{ display:grid; gap:.7rem; }
.modal-form label{ display:flex; flex-direction:column; gap:.35rem; font-weight:700; color:#4a4f58; }
.modal-form input{ height:40px; border-radius:10px; border:1px solid #d9dbe8; padding:0 .6rem; }
.col-span-5 { grid-column: span 5; }
.pantallas-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr); /* 5 columnas iguales */
  gap: .5rem 1rem; /* separación entre filas y columnas */
  margin-top: .5rem;
}

.pantalla-item {
  display: flex;
  align-items: center;
  gap: .35rem;
  font-weight: 500;
}
